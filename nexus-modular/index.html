<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>NEXUS AI // NEURAL INTERFACE</title>
    <meta name="theme-color" content="#000000">
    
    <!-- FONTS -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Inter:wght@300;400;600&family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- LIBRARIES (CDNs) - Loaded globally for browser compatibility -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    
    <!-- STYLES -->
    <link rel="stylesheet" href="styles/main.css">
</head>
<body class="h-screen w-screen flex flex-col relative select-none text-sm bg-black text-white">

    <!-- AUTH LOCK SCREEN -->
    <div id="auth-overlay" class="hidden">
        <div class="relative w-32 h-32 mb-6 text-cyan-500 drop-shadow-[0_0_15px_rgba(0,229,255,0.8)]">
            <svg viewBox="0 0 100 100" class="w-full h-full">
                <path fill="currentColor" d="M50 30C38.95 30 30 38.95 30 50V60C30 71.05 38.95 80 50 80C61.05 80 70 71.05 70 60V50C70 38.95 61.05 30 50 30ZM66 60C66 68.82 58.82 76 50 76C41.18 76 34 68.82 34 60V50C34 41.18 41.18 34 50 34C58.82 34 66 41.18 66 50V60Z"/>
                <path fill="currentColor" d="M50 0C22.39 0 0 22.39 0 50C0 77.61 22.39 100 50 100C77.61 100 100 77.61 100 50C100 22.39 77.61 0 50 0ZM50 96C24.59 96 4 75.41 4 50C4 24.59 24.59 4 50 4C75.41 4 96 24.59 96 50 96Z"/>
            </svg>
        </div>
        <h1 class="text-3xl font-header text-white tracking-[0.5em] mb-2">LOCKED</h1>
        <p class="text-cyan-400 font-mono text-xs tracking-widest mb-8 opacity-80">SYSTEM SECURITY PROTOCOL ACTIVE</p>
        <div class="w-[300px] mb-4">
            <input type="password" id="auth-pass-input" class="w-full bg-[#001428] border border-cyan-500 text-white p-4 text-center rounded-lg font-mono text-xl tracking-widest outline-none focus:shadow-[0_0_20px_rgba(0,229,255,0.4)]" placeholder="ENTER PASSCODE">
        </div>
        <button id="auth-btn" class="bg-gradient-to-r from-cyan-600 to-blue-600 text-black font-bold py-3 px-10 rounded-full font-header tracking-wider hover:scale-105 transition-transform">AUTHENTICATE</button>
        <div id="auth-msg" class="mt-4 h-6 text-red-500 font-mono text-sm"></div>
    </div>

    <!-- APP CONTAINER (Unlocks after auth) -->
    <div id="app-container" class="opacity-0 pointer-events-none transition-opacity duration-1000">
        
        <!-- SCANLINES & BACKGROUND -->
        <div class="scanlines"></div>
        <canvas id="galaxy-canvas" class="fixed top-0 left-0 w-full h-full z-0 pointer-events-none"></canvas>
        
        <!-- BOOT SCREEN -->
        <div id="boot-screen">
            <div class="loader-ring mb-8"></div>
            <h1 class="text-4xl font-header text-white tracking-[0.3em] animate-pulse drop-shadow-[0_0_20px_rgba(0,229,255,1)]">NEXUS <span class="text-cyan-500">AI</span></h1>
            <div class="mt-6 font-mono text-xs text-cyan-400 flex gap-2 items-center">
                <span class="w-2 h-2 bg-cyan-400 rounded-full animate-ping"></span>
                <span id="txt-init">INITIALIZING NEURAL NETWORK...</span>
            </div>
        </div>

        <!-- HEADER -->
        <header class="fixed top-0 left-0 right-0 z-20 glass-panel border-b border-cyan-500/20 h-16 flex items-center justify-between px-4 lg:px-6 bg-black/80">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-cyan-600 to-blue-600 flex items-center justify-center border border-white/20 shadow-lg">
                   <span class="text-white">âš—</span>
                </div>
                <div>
                    <h1 class="font-header font-bold text-lg tracking-wider text-white hidden sm:block">NEXUS <span class="text-cyan-400">AI</span></h1>
                    <div class="flex items-center gap-2 text-[10px] text-gray-400 font-mono mt-0.5">
                        <div id="api-status-dot" class="w-1.5 h-1.5 rounded-full bg-red-500 shadow-[0_0_5px_red]"></div>
                        <span id="room-display" class="cursor-pointer hover:text-white transition-colors">OFFLINE</span>
                    </div>
                </div>
            </div>
            <!-- Buttons... (Simplified for brevity, full HTML in previous prompt) -->
            <div class="flex items-center gap-2">
                 <button onclick="window.app.toggleMedia()" class="p-2 rounded-full hover:bg-white/10 text-cyan-300">ðŸ“¹</button>
                 <button onclick="window.app.toggleAdmin()" class="p-2 rounded-full hover:bg-white/10 text-red-500">ðŸ”’</button>
            </div>
        </header>

        <!-- MAIN CHAT AREA -->
        <main id="chat-container" class="flex-1 overflow-y-auto pt-20 pb-32 px-4 z-10 scroll-smooth max-w-4xl mx-auto w-full space-y-4"></main>

        <!-- INPUT AREA -->
        <div class="fixed bottom-0 left-0 w-full z-30 glass-panel border-t border-cyan-500/20 pt-3 pb-6 px-4 bg-black/90">
            <div class="max-w-4xl mx-auto flex items-end gap-2 bg-black/40 rounded-xl p-1.5 border border-white/5 input-glow">
                <input type="text" id="user-input" placeholder="Command: /ai [prompt]..." autocomplete="off" class="flex-1 bg-transparent border-none outline-none text-white px-3 py-2.5 text-sm font-light tracking-wide">
                <button id="send-btn" class="p-2.5 rounded-lg bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg">âž¤</button>
            </div>
        </div>

        <!-- ADMIN PANEL & MODALS (Injected by JS to save space here) -->
        <div id="overlays-container"></div>
    </div>

    <!-- MAIN APP SCRIPT -->
    <script type="module" src="js/app.js"></script>
</body>
</html>
